import{c as ne,q as oe,l as ae,w as se,g as re,d as ie}from"../chunks/firebase.c89a8387.js";import{H as ce}from"../chunks/control.f5b05b5f.js";import{s as le,B as ue,g as y,c as T,l as C,C as me,h as j,d as q,i as $,m as D,k as L,D as Q,E as de}from"../chunks/scheduler.019f240c.js";import{S as fe,i as he,d as G,p as V,v as _e,e as b,g as d,n as _,a as W,s as X,b as B,c as pe,t as A,j as ge,k as ve,m as be,l as we,h as ke}from"../chunks/index.2a734d87.js";import{U as ee,g as Ee,a as Pe}from"../chunks/UserLink.65dda833.js";function Y(t,e){if(isNaN(t)||t<400||t>599)throw new Error(`HTTP error status codes must be between 400 and 599 â€” ${t} is invalid`);return new ce(t,e)}new TextEncoder;const ye=async({params:t})=>{var s,o;const e=ne(ie,"users"),l=oe(e,se("username","==",t.username),ae(1)),u=await re(l),f=(s=u.docs[0])==null?void 0:s.exists(),n=(o=u.docs[0])==null?void 0:o.data();if(!f)throw Y(404,"that user does not exist!");if(!n.published)throw Y(403,`The profile of @${n.username} is not public!`);return{username:n.username,photoURL:n.photoURL,bio:n.bio,links:n.links??[]}},Te=Object.freeze(Object.defineProperty({__proto__:null,load:ye},Symbol.toStringTag,{value:"Module"})),R="src/routes/[username]/+page.svelte";function Z(t,e,l){const u=t.slice();return u[1]=e[l],u}function I(t){let e,l;const u=[t[1]];let f={};for(let s=0;s<u.length;s+=1)f=ue(f,u[s]);e=new ee({props:f,$$inline:!0});const n={c:function(){ge(e.$$.fragment)},l:function(o){ve(e.$$.fragment,o)},m:function(o,p){be(e,o,p),l=!0},p:function(o,p){const E=p&1?Ee(u,[Pe(o[1])]):{};e.$set(E)},i:function(o){l||(B(e.$$.fragment,o),l=!0)},o:function(o){A(e.$$.fragment,o),l=!1},d:function(o){we(e,o)}};return G("SvelteRegisterBlock",{block:n,id:I.name,type:"each",source:"(26:4) {#each data.links as item}",ctx:t}),n}function z(t){let e,l,u,f,n,s,o,p=t[0].username+"",E,H,h,x,M,w,U=(t[0].bio??"no bio yet...")+"",S,N,v,g;document.title=e="@"+t[0].username+" Links";let k=V(t[0].links),r=[];for(let m=0;m<k.length;m+=1)r[m]=I(Z(t,k,m));const te=m=>A(r[m],1,1,()=>{r[m]=null}),F={c:function(){l=y("meta"),f=T(),n=y("main"),s=y("h1"),o=C("@"),E=C(p),H=T(),h=y("img"),M=T(),w=y("p"),S=C(U),N=T(),v=y("ul");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l:function(i){const c=me("svelte-1ui6vuc",document.head);l=j(c,"META",{name:!0,content:!0}),c.forEach(b),f=q(i),n=j(i,"MAIN",{class:!0});var a=$(n);s=j(a,"H1",{class:!0});var P=$(s);o=D(P,"@"),E=D(P,p),P.forEach(b),H=q(a),h=j(a,"IMG",{src:!0,alt:!0,width:!0,class:!0}),M=q(a),w=j(a,"P",{class:!0});var J=$(w);S=D(J,U),J.forEach(b),N=q(a),v=j(a,"UL",{class:!0});var K=$(v);for(let O=0;O<r.length;O+=1)r[O].l(K);K.forEach(b),a.forEach(b),this.h()},h:function(){d(l,"name","description"),d(l,"content",u=t[0].bio),L(l,R,10,2,158),d(s,"class","text-7xl text-purple-500"),L(s,R,16,2,271),Q(h.src,x=t[0].photoURL??"/user.png")||d(h,"src",x),d(h,"alt","photoURL"),d(h,"width","256"),d(h,"class","mx-auto"),L(h,R,20,2,341),d(w,"class","text-xl my-8"),L(w,R,27,2,448),d(v,"class","list-none"),L(v,R,28,2,508),d(n,"class","prose text-center mx-auto mt-8"),L(n,R,14,0,222)},m:function(i,c){_(document.head,l),W(i,f,c),W(i,n,c),_(n,s),_(s,o),_(s,E),_(n,H),_(n,h),_(n,M),_(n,w),_(w,S),_(n,N),_(n,v);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(v,null);g=!0},p:function(i,[c]){if((!g||c&1)&&e!==(e="@"+i[0].username+" Links")&&(document.title=e),(!g||c&1&&u!==(u=i[0].bio))&&d(l,"content",u),(!g||c&1)&&p!==(p=i[0].username+"")&&X(E,p),(!g||c&1&&!Q(h.src,x=i[0].photoURL??"/user.png"))&&d(h,"src",x),(!g||c&1)&&U!==(U=(i[0].bio??"no bio yet...")+"")&&X(S,U),c&1){k=V(i[0].links);let a;for(a=0;a<k.length;a+=1){const P=Z(i,k,a);r[a]?(r[a].p(P,c),B(r[a],1)):(r[a]=I(P),r[a].c(),B(r[a],1),r[a].m(v,null))}for(ke(),a=k.length;a<r.length;a+=1)te(a);pe()}},i:function(i){if(!g){for(let c=0;c<k.length;c+=1)B(r[c]);g=!0}},o:function(i){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)A(r[c]);g=!1},d:function(i){i&&(b(f),b(n)),b(l),de(r,i)}};return G("SvelteRegisterBlock",{block:F,id:z.name,type:"component",source:"",ctx:t}),F}function je(t,e,l){let{$$slots:u={},$$scope:f}=e;_e("Page",u,[]);let{data:n}=e;t.$$.on_mount.push(function(){n===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const s=["data"];return Object.keys(e).forEach(o=>{!~s.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<Page> was created with unknown prop '${o}'`)}),t.$$set=o=>{"data"in o&&l(0,n=o.data)},t.$capture_state=()=>({UserLink:ee,data:n}),t.$inject_state=o=>{"data"in o&&l(0,n=o.data)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[n]}class qe extends fe{constructor(e){super(e),he(this,e,je,z,le,{data:0}),G("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:z.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{qe as component,Te as universal};
